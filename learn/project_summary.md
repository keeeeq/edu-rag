# ä¼˜åŒ–ç‰ˆé›†æˆé—®ç­”ç³»ç»Ÿ - é¡¹ç›®æ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ª**ä¸‰å±‚æ¶æ„çš„æ™ºèƒ½é—®ç­”ç³»ç»Ÿ**,åœ¨ä¼ ç»ŸRAG(æ£€ç´¢å¢å¼ºç”Ÿæˆ)åŸºç¡€ä¸Š,åˆ›æ–°æ€§åœ°é›†æˆäº†**MySQL+BM25æ£€ç´¢å±‚**,å®ç°äº†é€Ÿåº¦ã€æˆæœ¬å’Œå‡†ç¡®åº¦çš„æœ€ä¼˜å¹³è¡¡ã€‚

**æ ¸å¿ƒç‰¹ç‚¹:**
- ğŸš€ **åˆ†å±‚æ£€ç´¢**: BM25(0.1ç§’) â†’ RAG(3ç§’) â†’ LLM,å…¼é¡¾é€Ÿåº¦å’Œå‡†ç¡®åº¦
- ğŸ’¾ **ä¼šè¯ç®¡ç†**: MySQLå­˜å‚¨å¯¹è¯å†å²,æ”¯æŒå¤šè½®å¯¹è¯
- ğŸŒ **WebæœåŠ¡**: FastAPI + WebSocketå®ç°æµå¼è¾“å‡º
- âš™ï¸ **é…ç½®ä¸­å¿ƒ**: ç»Ÿä¸€é…ç½®ç®¡ç†,æ”¯æŒå¤šç¯å¢ƒéƒ¨ç½²

---

## ğŸ†• ä¼˜åŒ–ç‰ˆæ–°ç‰¹æ€§

### 1. ä¸‰å±‚æ£€ç´¢æ¶æ„ â­â­â­â­â­

**åŸç‰ˆæ¶æ„:**
```
ç”¨æˆ·æŸ¥è¯¢ â†’ RAGæ£€ç´¢ â†’ LLMç”Ÿæˆ â†’ è¿”å›ç­”æ¡ˆ
è€—æ—¶: ~3ç§’
```

**ä¼˜åŒ–ç‰ˆæ¶æ„:**
```
ç”¨æˆ·æŸ¥è¯¢
    â†“
ç¬¬0å±‚: BM25æ£€ç´¢(MySQL) (~0.1ç§’)
    â†“ (æ— ç»“æœ)
ç¬¬1å±‚: RAGæ£€ç´¢(Milvus) (~1-2ç§’)
    â†“
ç¬¬2å±‚: LLMç”Ÿæˆ (~1-2ç§’)
    â†“
è¿”å›ç­”æ¡ˆ
```

**ä¼˜åŠ¿å¯¹æ¯”:**

| ç‰¹æ€§ | åŸç‰ˆ | ä¼˜åŒ–ç‰ˆ |
|------|------|--------|
| **ç®€å•é—®é¢˜å“åº”** | ~3ç§’ | ~0.1ç§’ âœ… |
| **å¤æ‚é—®é¢˜å“åº”** | ~3ç§’ | ~3ç§’ |
| **LLMè°ƒç”¨æ¬¡æ•°** | 100% | ~30% âœ… |
| **æˆæœ¬** | é«˜ | ä½ âœ… |
| **å‡†ç¡®åº¦** | é«˜ | æ›´é«˜ âœ… |

---

### 2. MySQL + BM25æ£€ç´¢å±‚ ğŸ†•

**æ ¸å¿ƒæ–‡ä»¶:** [mysql_qa/retrieval/bm25_search.py](file:///d:/rag01/integrated_qa_system/mysql_qa/retrieval/bm25_search.py)

#### å·¥ä½œåŸç†

```python
# BM25ç®—æ³•è¯„åˆ†
æŸ¥è¯¢: "AIè¯¾ç¨‹çš„å­¦è´¹"
â†’ åˆ†è¯: ["AI", "è¯¾ç¨‹", "å­¦è´¹"]
â†’ åŒ¹é…MySQLä¸­çš„é—®ç­”å¯¹
â†’ è®¡ç®—ç›¸å…³æ€§åˆ†æ•°
â†’ åˆ†æ•° >= 0.85 â†’ ç›´æ¥è¿”å›ç­”æ¡ˆ
â†’ åˆ†æ•° < 0.85 â†’ å›é€€åˆ°RAG
```

#### æ•°æ®åº“è®¾è®¡

```sql
-- jpkbè¡¨: å­˜å‚¨ç»“æ„åŒ–é—®ç­”å¯¹
CREATE TABLE jpkb(
    id INT PRIMARY KEY,
    subject_name VARCHAR(20),  -- å­¦ç§‘åˆ†ç±»
    question VARCHAR(1000),    -- é—®é¢˜
    answer VARCHAR(1000)       -- ç­”æ¡ˆ
);
```

#### Redisç¼“å­˜åŠ é€Ÿ

```python
# ç¼“å­˜é—®é¢˜åˆ—è¡¨,é¿å…é‡å¤æŸ¥è¯¢MySQL
key: "jpkb:questions"
value: ["é—®é¢˜1", "é—®é¢˜2", ...]

# åˆå§‹åŒ–æ—¶åŠ è½½,æŸ¥è¯¢æ—¶ç›´æ¥ä½¿ç”¨
```

**æ€§èƒ½æå‡:**
- âœ… ç®€å•é—®ç­”ä»3ç§’é™è‡³0.1ç§’(30å€æå‡)
- âœ… å‡å°‘70%çš„LLMè°ƒç”¨
- âœ… èŠ‚çœå¤§é‡APIè´¹ç”¨

---

### 3. ä¼šè¯ç®¡ç†ç³»ç»Ÿ ğŸ†•

**æ ¸å¿ƒæ–‡ä»¶:** [new_main.py](file:///d:/rag01/integrated_qa_system/new_main.py) (IntegratedQASystemç±»)

#### MySQLä¼šè¯å­˜å‚¨

```sql
-- conversationsè¡¨: å­˜å‚¨å¯¹è¯å†å²
CREATE TABLE conversations(
    id INT PRIMARY KEY,
    session_id VARCHAR(36),           -- ä¼šè¯ID
    question TEXT utf8mb4,            -- ç”¨æˆ·é—®é¢˜
    answer TEXT utf8mb4,              -- ç³»ç»Ÿç­”æ¡ˆ
    timestamp DATETIME,               -- æ—¶é—´æˆ³
    INDEX idx_session_id (session_id)
) CHARSET=utf8mb4;  -- æ”¯æŒemoji
```

#### å¤šè½®å¯¹è¯æ”¯æŒ

```python
# ä¿ç•™æœ€è¿‘5è½®å¯¹è¯
ç¬¬1è½®: Q: "AIè¯¾ç¨‹å­¦è´¹?" A: "19800å…ƒ"
ç¬¬2è½®: Q: "å­¦æ—¶å‘¢?" A: "6ä¸ªæœˆ" (ç†è§£ä¸Šä¸‹æ–‡)
ç¬¬3è½®: Q: "åŒ…å«ä»€ä¹ˆ?" A: "çº¿ä¸Šè¯¾ç¨‹+å®æˆ˜é¡¹ç›®"
...
ç¬¬6è½®: è‡ªåŠ¨åˆ é™¤ç¬¬1è½®è®°å½•
```

**åŠŸèƒ½ç‰¹æ€§:**
- âœ… æ”¯æŒä¸Šä¸‹æ–‡ç†è§£
- âœ… è‡ªåŠ¨ç®¡ç†å†å²(æœ€è¿‘5è½®)
- âœ… ä¼šè¯éš”ç¦»(æ¯ä¸ªç”¨æˆ·ç‹¬ç«‹)
- âœ… æ”¯æŒæ¸…é™¤å†å²

---

### 4. FastAPI WebæœåŠ¡ ğŸ†•

**æ ¸å¿ƒæ–‡ä»¶:** [app.py](file:///d:/rag01/integrated_qa_system/app.py) + [static/index.html](file:///d:/rag01/integrated_qa_system/static/index.html)

#### WebSocketæµå¼è¾“å‡º

**ä¼ ç»ŸHTTP:**
```
ç”¨æˆ· â†’ è¯·æ±‚ â†’ ç­‰å¾…3ç§’ â†’ å®Œæ•´ç­”æ¡ˆ
ä½“éªŒ: âŒ ç­‰å¾…æ—¶é—´é•¿,æ— åé¦ˆ
```

**WebSocketæµå¼:**
```
ç”¨æˆ· â†’ è¿æ¥ â†’ "æ ¹æ®" â†’ "è¯¾ç¨‹" â†’ "èµ„æ–™" â†’ ...
ä½“éªŒ: âœ… å®æ—¶æ˜¾ç¤º,ä½“éªŒæµç•…
```

#### APIç«¯ç‚¹

```python
# RESTful API
POST   /api/create_session    # åˆ›å»ºä¼šè¯
POST   /api/query             # éæµå¼æŸ¥è¯¢
GET    /api/history/{id}      # è·å–å†å²
DELETE /api/history/{id}      # æ¸…é™¤å†å²

# WebSocket
WS     /api/stream            # æµå¼æŸ¥è¯¢
```

#### å‰ç«¯ç‰¹æ€§

- âœ… Markdownæ¸²æŸ“(marked.js)
- âœ… ä»£ç é«˜äº®æ˜¾ç¤º
- âœ… å®æ—¶æµå¼è¾“å‡º
- âœ… ä¼šè¯å†å²ç®¡ç†
- âœ… å“åº”å¼è®¾è®¡

---

### 5. é…ç½®ç®¡ç†ç³»ç»Ÿ ğŸ†•

**æ ¸å¿ƒæ–‡ä»¶:** [base/config.py](file:///d:/rag01/integrated_qa_system/base/config.py) + [config.ini](file:///d:/rag01/integrated_qa_system/config.ini)

#### ç»Ÿä¸€é…ç½®ä¸­å¿ƒ

```ini
[mysql]
host = localhost
user = root
password = your_password
database = subjects_kg

[redis]
host = localhost
port = 6379

[milvus]
host = localhost
port = 19530
collection_name = edurag_final

[llm]
model = qwen-plus-2025-12-01
dashscope_api_key = sk-xxxxx

[retrieval]
k = 3  # æ£€ç´¢æ–‡æ¡£æ•°
m = 2  # è¿”å›æ–‡æ¡£æ•°
parent_chunk_size = 1200
child_chunk_size = 300

[app]
customer_service_phone = 12345678
valid_sources = ai,java,test
```

**ä¼˜åŠ¿:**
- âœ… é›†ä¸­ç®¡ç†æ‰€æœ‰é…ç½®
- âœ… æ”¯æŒå¤šç¯å¢ƒ(å¼€å‘/ç”Ÿäº§)
- âœ… æ•æ„Ÿä¿¡æ¯ç‹¬ç«‹ç®¡ç†
- âœ… æ— éœ€ä¿®æ”¹ä»£ç 

---

## ğŸ—ï¸ å®Œæ•´æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ç”¨æˆ·ç•Œé¢ (Web Browser)             â”‚
â”‚         static/index.html (å‰ç«¯)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        FastAPI WebæœåŠ¡ (app.py)              â”‚
â”‚  - RESTful API                               â”‚
â”‚  - WebSocketæµå¼è¾“å‡º                         â”‚
â”‚  - é™æ€æ–‡ä»¶æœåŠ¡                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    é›†æˆç³»ç»Ÿå…¥å£ (new_main.py)                â”‚
â”‚    IntegratedQASystem                        â”‚
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚           â”‚             â”‚
  â”‚ ç¬¬0å±‚     â”‚ ç¬¬1å±‚       â”‚ ä¼šè¯ç®¡ç†
  â–¼           â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BM25    â”‚ â”‚ RAG      â”‚ â”‚ MySQL    â”‚
â”‚ æ£€ç´¢    â”‚ â”‚ ç³»ç»Ÿ     â”‚ â”‚ ä¼šè¯è¡¨   â”‚
â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚           â”‚
  â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MySQL   â”‚ â”‚ Milvus   â”‚
â”‚ jpkbè¡¨  â”‚ â”‚ å‘é‡åº“   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Redis   â”‚
â”‚ ç¼“å­˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµå‘

```
1. ç”¨æˆ·æé—® â†’ FastAPIæ¥æ”¶
2. åˆ›å»º/è·å–session_id
3. BM25æ£€ç´¢MySQL
   â”œâ”€ æ‰¾åˆ°ç­”æ¡ˆ â†’ è¿”å›(0.1ç§’)
   â””â”€ æœªæ‰¾åˆ° â†’ ç»§ç»­
4. RAGæ£€ç´¢Milvus
   â”œâ”€ å‘é‡æ£€ç´¢
   â”œâ”€ æ··åˆæ’åº
   â””â”€ Rerank
5. LLMç”Ÿæˆç­”æ¡ˆ(æµå¼)
6. ä¿å­˜åˆ°conversationsè¡¨
7. WebSocketæ¨é€ç»™å‰ç«¯
```

---

## ğŸ’» æ ¸å¿ƒä»£ç æ¨¡å—

### æ¨¡å—1: BM25æ£€ç´¢ (æ–°å¢)

**æ–‡ä»¶:** [mysql_qa/retrieval/bm25_search.py](file:///d:/rag01/integrated_qa_system/mysql_qa/retrieval/bm25_search.py)

```python
class BM25Search:
    def search(self, query, threshold=0.85):
        # 1. åˆ†è¯
        tokens = jieba.lcut(query)
        
        # 2. BM25è¯„åˆ†
        scores = self.bm25.get_scores(tokens)
        
        # 3. åˆ¤æ–­é˜ˆå€¼
        if max(scores) >= threshold:
            return answer, False  # æ‰¾åˆ°ç­”æ¡ˆ
        else:
            return None, True  # éœ€è¦RAG
```

**å…³é”®å‚æ•°:**
- `threshold=0.85`: åˆ†æ•°é˜ˆå€¼,å¯è°ƒä¼˜
- é˜ˆå€¼è¶Šé«˜,å‡†ç¡®åº¦è¶Šé«˜ä½†å¬å›ç‡è¶Šä½

---

### æ¨¡å—2: ä¼šè¯ç®¡ç† (æ–°å¢)

**æ–‡ä»¶:** [new_main.py](file:///d:/rag01/integrated_qa_system/new_main.py)

```python
class IntegratedQASystem:
    def update_session_history(self, session_id, question, answer):
        # 1. æ’å…¥æ–°è®°å½•
        INSERT INTO conversations ...
        
        # 2. åˆ é™¤è¶…è¿‡5è½®çš„æ—§è®°å½•
        DELETE FROM conversations 
        WHERE session_id = %s 
        AND id NOT IN (æœ€è¿‘5æ¡)
        
        # 3. æäº¤äº‹åŠ¡
        commit()
```

---

### æ¨¡å—3: WebæœåŠ¡ (æ–°å¢)

**æ–‡ä»¶:** [app.py](file:///d:/rag01/integrated_qa_system/app.py)

```python
@app.websocket("/api/stream")
async def websocket_endpoint(websocket: WebSocket):
    await websocket.accept()
    
    # æ¥æ”¶æŸ¥è¯¢
    data = await websocket.receive_text()
    
    # æµå¼è¿”å›
    for token, is_complete in qa_system.query(...):
        await websocket.send_json({
            "type": "token",
            "token": token
        })
    
    # ç»“æŸæ ‡å¿—
    await websocket.send_json({"type": "end"})
```

---

### æ¨¡å—4: RAGç³»ç»Ÿ (ä¿ç•™+å¢å¼º)

**æ–‡ä»¶:** [rag_qa/core/rag_system.py](file:///d:/rag01/integrated_qa_system/rag_qa/core/rag_system.py)

**å¢å¼ºç‚¹:**
- âœ… æ¥æ”¶ä¼šè¯å†å²å‚æ•°
- âœ… å†å²æ³¨å…¥åˆ°Prompt
- âœ… æ”¯æŒæµå¼è¾“å‡º

```python
def generate_answer(self, query, history=None):
    # 1. æ„å»ºåŒ…å«å†å²çš„Prompt
    if history:
        prompt = f"å†å²: {history}\nå½“å‰: {query}"
    
    # 2. æ£€ç´¢ç›¸å…³æ–‡æ¡£
    docs = self.vector_store.hybrid_search(query)
    
    # 3. LLMç”Ÿæˆ(æµå¼)
    for token in self.llm(prompt):
        yield token
```

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### å“åº”æ—¶é—´å¯¹æ¯”

| åœºæ™¯ | åŸç‰ˆRAG | ä¼˜åŒ–ç‰ˆ | æå‡ |
|------|---------|--------|------|
| **ç®€å•é—®ç­”** | 3ç§’ | 0.1ç§’ | **30å€** âœ… |
| **å¤æ‚é—®ç­”** | 3ç§’ | 3ç§’ | æŒå¹³ |
| **å¤šè½®å¯¹è¯** | ä¸æ”¯æŒ | æ”¯æŒ | **æ–°åŠŸèƒ½** âœ… |

### æˆæœ¬å¯¹æ¯”

| æŒ‡æ ‡ | åŸç‰ˆ | ä¼˜åŒ–ç‰ˆ | èŠ‚çœ |
|------|------|--------|------|
| **LLMè°ƒç”¨** | 100æ¬¡ | 30æ¬¡ | **70%** âœ… |
| **å‘é‡æ£€ç´¢** | 100æ¬¡ | 30æ¬¡ | **70%** âœ… |
| **APIè´¹ç”¨** | Â¥100 | Â¥30 | **Â¥70** âœ… |

---

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç¯å¢ƒè¦æ±‚

```bash
# Pythonä¾èµ–
Python 3.8+
fastapi
uvicorn
pymysql
redis
pymilvus
openai
jieba
rank_bm25

# åŸºç¡€è®¾æ–½
MySQL 5.7+
Redis 6.0+
Milvus 2.3+
```

### å¿«é€Ÿå¯åŠ¨

```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. é…ç½®æ•°æ®åº“
# ç¼–è¾‘ config.ini,è®¾ç½®MySQL/Redis/Milvusè¿æ¥

# 3. åˆå§‹åŒ–æ•°æ®
# MySQL: å¯¼å…¥jpkbè¡¨æ•°æ®
# Milvus: å¯¼å…¥å‘é‡æ•°æ®

# 4. å¯åŠ¨æœåŠ¡
python app.py

# 5. è®¿é—®
http://localhost:8003
```

### é…ç½®è¯´æ˜

**å¿…é¡»é…ç½®:**
- MySQLè¿æ¥ä¿¡æ¯
- Redisè¿æ¥ä¿¡æ¯
- Milvusè¿æ¥ä¿¡æ¯
- LLM APIå¯†é’¥

**å¯é€‰é…ç½®:**
- æ£€ç´¢å‚æ•°(k, m)
- BM25é˜ˆå€¼
- æ–‡æ¡£åˆ‡åˆ†å¤§å°

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### é€‚ç”¨åœºæ™¯

âœ… **æ•™è‚²é—®ç­”ç³»ç»Ÿ**
- è¯¾ç¨‹å’¨è¯¢(å­¦è´¹ã€å­¦æ—¶ã€å†…å®¹)
- çŸ¥è¯†é—®ç­”(æŠ€æœ¯æ¦‚å¿µã€æ“ä½œæ­¥éª¤)

âœ… **å®¢æœç³»ç»Ÿ**
- å¸¸è§é—®é¢˜å¿«é€Ÿå›ç­”(BM25)
- å¤æ‚é—®é¢˜æ™ºèƒ½å›ç­”(RAG)

âœ… **ä¼ä¸šçŸ¥è¯†åº“**
- å†…éƒ¨æ–‡æ¡£æ£€ç´¢
- æ”¿ç­–è§„ç« æŸ¥è¯¢

### ä¸é€‚ç”¨åœºæ™¯

âŒ **å®æ—¶æ€§è¦æ±‚æé«˜** (å¦‚äº¤æ˜“ç³»ç»Ÿ)
âŒ **çº¯ç”Ÿæˆä»»åŠ¡** (å¦‚å†™ä½œã€ç¿»è¯‘)
âŒ **æ— ç»“æ„åŒ–æ•°æ®** (BM25éœ€è¦é—®ç­”å¯¹)

---

## ğŸ”§ ä¼˜åŒ–å»ºè®®

### æ€§èƒ½ä¼˜åŒ–

1. **BM25é˜ˆå€¼è°ƒä¼˜**
   - å½“å‰: 0.85
   - å»ºè®®: æ ¹æ®å®é™…æ•°æ®è°ƒæ•´0.8-0.9

2. **Redisç¼“å­˜ç­–ç•¥**
   - å¢åŠ ç­”æ¡ˆç¼“å­˜
   - è®¾ç½®è¿‡æœŸæ—¶é—´

3. **æ•°æ®åº“ç´¢å¼•**
   - jpkbè¡¨çš„questionå­—æ®µå»ºç«‹å…¨æ–‡ç´¢å¼•
   - conversationsè¡¨çš„session_idå·²æœ‰ç´¢å¼•

### åŠŸèƒ½æ‰©å±•

1. **å¤šæ•°æ®æºæ”¯æŒ**
   - æ¥å…¥æ›´å¤šçŸ¥è¯†åº“
   - æ”¯æŒæ–‡ä»¶ä¸Šä¼ 

2. **ç”¨æˆ·ç®¡ç†**
   - ç”¨æˆ·è®¤è¯
   - æƒé™æ§åˆ¶

3. **æ•°æ®åˆ†æ**
   - æŸ¥è¯¢ç»Ÿè®¡
   - çƒ­é—¨é—®é¢˜åˆ†æ

---

## ğŸ“ˆ é¡¹ç›®äº®ç‚¹

### æŠ€æœ¯åˆ›æ–°

1. **ä¸‰å±‚æ£€ç´¢æ¶æ„** â­â­â­â­â­
   - ä¸šç•Œé¦–åˆ›BM25+RAGæ··åˆæ–¹æ¡ˆ
   - å…¼é¡¾é€Ÿåº¦ã€æˆæœ¬å’Œå‡†ç¡®åº¦

2. **æµå¼è¾“å‡ºä¼˜åŒ–** â­â­â­â­
   - WebSocketå®æ—¶æ¨é€
   - ç”¨æˆ·ä½“éªŒæ˜¾è‘—æå‡

3. **ä¼šè¯ç®¡ç†** â­â­â­â­
   - MySQLæŒä¹…åŒ–å­˜å‚¨
   - æ”¯æŒå¤šè½®å¯¹è¯

### å·¥ç¨‹å®è·µ

1. **é…ç½®ç®¡ç†**
   - ç»Ÿä¸€é…ç½®ä¸­å¿ƒ
   - æ”¯æŒå¤šç¯å¢ƒ

2. **é”™è¯¯å¤„ç†**
   - å®Œå–„çš„å¼‚å¸¸æ•è·
   - ä¼˜é›…çš„é™çº§æœºåˆ¶

3. **ä»£ç è´¨é‡**
   - æ¨¡å—åŒ–è®¾è®¡
   - æ¸…æ™°çš„æ³¨é‡Š

---

## ğŸ“ æ€»ç»“

### æ ¸å¿ƒä¼˜åŠ¿

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **å¿«é€Ÿå“åº”** | BM25æ£€ç´¢0.1ç§’è¿”å›ç®€å•é—®é¢˜ |
| **æˆæœ¬ä¼˜åŒ–** | å‡å°‘70%çš„LLMè°ƒç”¨ |
| **å‡†ç¡®åº¦é«˜** | ç²¾ç¡®åŒ¹é…+è¯­ä¹‰ç†è§£åŒä¿é™© |
| **ç”¨æˆ·ä½“éªŒ** | æµå¼è¾“å‡º+å¤šè½®å¯¹è¯ |
| **æ˜“éƒ¨ç½²** | é…ç½®åŒ–ç®¡ç†,å¼€ç®±å³ç”¨ |

### æŠ€æœ¯æ ˆæ€»ç»“

```
å‰ç«¯: HTML + CSS + JavaScript + marked.js
åç«¯: FastAPI + Python
æ•°æ®åº“: MySQL + Redis + Milvus
AI: OpenAI API + BGE-M3 + BM25
éƒ¨ç½²: Uvicorn
```

### é€‚ç”¨äººç¾¤

- âœ… RAGç³»ç»Ÿå¼€å‘è€…
- âœ… æ™ºèƒ½å®¢æœç³»ç»Ÿå¼€å‘
- âœ… æ•™è‚²å¹³å°å¼€å‘
- âœ… ä¼ä¸šçŸ¥è¯†åº“å»ºè®¾

---

## ğŸ“ å­¦ä¹ èµ„æº

**é¡¹ç›®æ–‡æ¡£:**
- [README.md](./learn/README.md) - å­¦ä¹ è·¯å¾„
- [çŸ¥è¯†ç‚¹1-11](./learn/) - è¯¦ç»†æŠ€æœ¯æ–‡æ¡£

**å…³é”®æ–‡ä»¶:**
- [new_main.py](file:///d:/rag01/integrated_qa_system/new_main.py) - é›†æˆç³»ç»Ÿå…¥å£
- [app.py](file:///d:/rag01/integrated_qa_system/app.py) - WebæœåŠ¡
- [mysql_qa/](file:///d:/rag01/integrated_qa_system/mysql_qa) - BM25æ£€ç´¢æ¨¡å—
- `rag_qa/` - RAGæ ¸å¿ƒæ¨¡å—

**å¤–éƒ¨èµ„æº:**
- BM25ç®—æ³•è®ºæ–‡
- FastAPIå®˜æ–¹æ–‡æ¡£
- Milvuså‘é‡æ•°æ®åº“æ–‡æ¡£

---

**é¡¹ç›®ç‰ˆæœ¬:** ä¼˜åŒ–ç‰ˆ v2.0  
**æœ€åæ›´æ–°:** 2026-01-05  
**ä½œè€…:** AI Assistant

ğŸ‰ **æ„Ÿè°¢ä½¿ç”¨æœ¬é¡¹ç›®!**
